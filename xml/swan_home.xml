<?xml version="1.0" encoding="UTF-8"?>
<includes>

	<include name="Home_Layout_WidgetOnly">
		<include>Home_Widgets</include>
	</include>

	

	<include name="Home_Layout_Spotlight">
		
		<control type="group">
			<description>S P O T L I G H T  A R T W O R K</description>
			
			<include content="DefArtwork">
				<right>0</right>
				<param name="width" value="1267" />
				<param name="height" value="731" />
				<param name="diffuse" value="diffuse/spotlightleftdiffuse.png" />
				<param name="visible" value="!Skin.HasSetting(SpotlightLayout_FanartLeftAlignment)" />
			</include>
			<include content="DefArtwork">
				<left>0</left>
				<param name="width" value="1267" />
				<param name="height" value="731" />
				<param name="diffuse" value="diffuse/spotlightrightdiffuse.png" />
				<param name="visible" value="Skin.HasSetting(SpotlightLayout_FanartLeftAlignment)" />
			</include>
		</control>
		
		<include>spotlight_trailer_overlay</include>
		
		<control type="label">
			<description>WIP HOME MENU LABELS CENTERED</description>
			<visible>[Control.HasFocus(9000) | Control.HasFocus(8888)]</visible>
			<visible>false</visible>
			<left>50%</left>
			<label>$INFO[Container(9000).ListItem.Label]</label>
			<textcolor>red</textcolor>
			<align>center</align>
			<width>400</width>
			<font>font_SpotlightTitle_Large</font>
		</control>
	
		<control type="grouplist">
			<description>S P O T L I G H T  M E T A D A T A 750w</description>
			<animation effect="fade" start="100" end="0" time="250" condition="Window.IsActive(shutdownmenu)">conditional</animation>
			<width>39%</width>
			<height>650</height>
			<top>10</top>
			<bottom>10</bottom>
			<orientation>vertical</orientation>
			<itemgap>10</itemgap>
			<usecontrolcoords>true</usecontrolcoords>
			
			<include content="pos_left" condition="!Skin.HasSetting(SpotlightLayout_FanartLeftAlignment)">
				<param name="left" value="110" />
			</include>
			<include content="pos_right" condition="Skin.HasSetting(SpotlightLayout_FanartLeftAlignment)">
				<param name="right" value="60" />
			</include>
			<include content="spacer_h">
				<param name="gap" value="150" />
				<param name="visible" value="Skin.HasSetting(home_spotlight_hideplot)" />
			</include>
			
			<control type="image" id="1601">
				<description>choose align for aspectratio respecting skinstring</description>
				<description>clearlogo, didnt need respect alignment setting ?</description>
				<visible>!String.IsEmpty(Control.GetLabel(1601))</visible>
				<height>245</height>
				<aspectratio align="center" aligny="bottom">keep</aspectratio>
				<texture background="true">$VAR[ListItemClearLogo]</texture>
			</control>
			
			<control type="textbox">
				<description>Fallback Label - make expression home_menucontrol_focused as 3 id s</description>
				<visible>![Control.HasFocus(9000) | Control.HasFocus(8888)] + String.IsEmpty(Control.GetLabel(1601))</visible>
				<height>235</height>
				<wrapmultiline>true</wrapmultiline>
				<font>font_SpotlightTitle_Large</font>
				<include content="pos_alignx" condition="!Skin.HasSetting(home_spotlight_hideplot) + String.IsEqual(Skin.String(SpotlightMetadataAlign),left)" />
				<include content="pos_alignx" condition="Skin.HasSetting(home_spotlight_hideplot) | String.IsEqual(Skin.String(SpotlightMetadataAlign),center)">
					<param name="align" value="center" />
				</include>
				
				<include content="pos_alignx" condition="!Skin.HasSetting(home_spotlight_hideplot) + String.IsEqual(Skin.String(SpotlightMetadataAlign),right)">
					<param name="align" value="right" />
				</include>
				<include content="pos_right" condition="!Skin.HasSetting(home_spotlight_hideplot) + String.IsEqual(Skin.String(SpotlightMetadataAlign),right)">
					<param name="right" value="30" />
				</include>
				<aligny>bottom</aligny>
				<textcolor>$VAR[color_home_accent]</textcolor>
				<label>$VAR[ClearLogo_FallbackHome]</label>
			</control>
			
			<include>Meta_Uncommon_Top</include>
			
			<control type="grouplist" id="588688">
				<visible>String.IsEqual(ListItem.DBTYPE,episode)</visible>
				<orientation>vertical</orientation>
				<height>125</height>
				<fadetime>300</fadetime>
				<itemgap>10</itemgap>
				<include content="pos_right" condition="!Skin.HasSetting(home_spotlight_hideplot) + String.IsEqual(Skin.String(SpotlightMetadataAlign),right)">
					<param name="right" value="40" />
				</include>
				<control type="label">
					<height>70</height>
					<font>InfoCommon</font>
					<include content="pos_alignx" condition="!Skin.HasSetting(home_spotlight_hideplot) + String.IsEqual(Skin.String(SpotlightMetadataAlign),left)" />
					<include content="pos_alignx" condition="Skin.HasSetting(home_spotlight_hideplot) | String.IsEqual(Skin.String(SpotlightMetadataAlign),center)">
						<param name="align" value="center" />
					</include>
					<include content="pos_alignx" condition="!Skin.HasSetting(home_spotlight_hideplot) + String.IsEqual(Skin.String(SpotlightMetadataAlign),right)">
						<param name="align" value="right" />
					</include>
					
					<aligny>center</aligny>
					<textcolor>$VAR[color_home_text_main]</textcolor>
					<label>[CAPITALIZE]$INFO[ListItem.Title,[B],[/B]][CR]$INFO[ListItem.Season,$LOCALIZE[36904] ,]$INFO[ListItem.Episode, $LOCALIZE[36906] ,][/CAPITALIZE]</label>
				</control>
				<include content="spacer_h" />
			</control>
			
			<include content="Home_Plot">
				<param name="visible" value="![$EXP[IsEpisode]]" />
				<param name="maxheight" value="205" />
				<param name="top" value="0" />
			</include>
			<include content="Home_Plot">
				<param name="visible" value="$EXP[IsEpisode]" />
				<param name="maxheight" value="160" />
				<param name="top" value="0" />
			</include>
			
			<include content="Meta_Genre_Bottom" />
		</control>
			
		<include>Home_Widgets</include>
				
	</include>

	<include name="Home_WidgetPositioning">
		<param name="height" default="95%" />
		<param name="bottom" default="25" />
		<definition>
			<height>$PARAM[height]</height>
			<bottom>$PARAM[bottom]</bottom>
		</definition>
	</include>

	<include name="Home_Plot">
		<control type="textbox">
			<width>95%</width>
			<description>if align right, width doesnt affect alignment</description>
			<visible>$PARAM[visible]</visible>
			<visible>!Skin.HasSetting(home_spotlight_hideplot)</visible>
			<top>$PARAM[top]</top>
			<height min="80" max="$PARAM[maxheight]">auto</height>
			<aligny>top</aligny>
			<label>$VAR[plot]</label>
			<textcolor>$VAR[color_home_text_secondary]</textcolor>
			<include content="pos_alignx" condition="String.IsEqual(Skin.String(SpotlightMetadataAlign),left)" />
			<include content="pos_alignx" condition="String.IsEqual(Skin.String(SpotlightMetadataAlign),center)">
				<param name="align" value="center" />
			</include>
			<include content="pos_alignx" condition="String.IsEqual(Skin.String(SpotlightMetadataAlign),right)">
				<param name="align" value="right" />
			</include>
			<font>font_SpotlightPlot_RegMedium</font>
		</control>
	</include>

	<include name="Meta_Uncommon_Top">
		<control type="grouplist">
			<orientation>horizontal</orientation>
			<usecontrolcoords>true</usecontrolcoords>
			<height>50</height>
			<itemgap>10</itemgap>
			<right>25</right>
			
			<include content="pos_alignx" condition="!Skin.HasSetting(home_spotlight_hideplot) + String.IsEqual(Skin.String(SpotlightMetadataAlign),left)" />
			<include content="pos_alignx" condition="Skin.HasSetting(home_spotlight_hideplot) | String.IsEqual(Skin.String(SpotlightMetadataAlign),center)">
				<param name="align" value="center" />
			</include>
			<include content="pos_alignx" condition="!Skin.HasSetting(home_spotlight_hideplot) + String.IsEqual(Skin.String(SpotlightMetadataAlign),right)">
				<param name="align" value="right" />
			</include>
			
			<include content="StarsRating_Image">
				<param name="colordiffuse" value="$VAR[color_home_accent]" />
			</include>
			
			<control type="label">
				<visible>!String.IsEmpty(ListItem.Year)</visible>	
				<top>5</top>
				<left>10</left>
				<height>35</height>
				<width>auto</width>
				<aligny>center</aligny>
				<font>font_SpotlightMetaDataBar</font>
				<label>$INFO[ListItem.Year,[B],[/B]]</label>
				<textcolor>$VAR[color_home_text_main]</textcolor>
			</control>
			
			<control type="button">
				<width min="50">auto</width>
				<font>font_SpotlightMetaDataBar</font>
				<label>$INFO[ListItem.MPAA,[B],[/B]]</label>
				<aligny>top</aligny>
				<align>center</align>
				<textcolor>$VAR[color_home_text_main]</textcolor>
				<disabledcolor>$VAR[color_home_text_main]</disabledcolor>
				<posy>3</posy>
				<height>40</height>
				<textoffsetx>20</textoffsetx>
				<textoffsety>4</textoffsety>
				<texturenofocus colordiffuse="$VAR[color_home_text_main]">flags/detailframe.png</texturenofocus>
				<enable>false</enable>
				<visible>!String.IsEmpty(ListItem.MPAA)</visible>
			</control>
			
			<control type="label">
				<posy>5</posy>
				<width>auto</width>
				<label>$VAR[Meta_Top_Details]</label>
				<height>35</height>
				<aligny>center</aligny>
				<textcolor>$VAR[color_home_text_main]</textcolor>
				<font>font_SpotlightMetaDataBar</font>
			</control>
			
			<include content="FramedCodecInfo">
				<param name="id" value="611114" />
				<param name="label_id" value="6111141" />
				<param name="infolabel" value="$VAR[Simple_Resolution,[B],[/B]]" />
			</include>
			<control type="group">
				<left>-10</left>
				<width>70</width>
				<include content="FramedCodecInfo">
					<param name="id" value="611115" />
					<param name="label_id" value="6111151" />
					<param name="infolabel" value="$VAR[Simple_AudioChannel,[B],[/B]]" />
				</include>
			</control>
			<!-- Games: Number of players -->
			<!-- <control type="group">
				<top>0</top>
				<width>250</width>
				<height>50</height>
				<visible>!String.IsEmpty(ListItem.Property(nplayers))</visible>
				<control type="image">
					<top>-5</top>
					<width>50</width>
					<height>50</height>
					<texture colordiffuse="$INFO[Skin.String(NetflixDetailsFlagColor)]">DefaultActor.png</texture>					
				</control>
				<control type="label">
					<left>55</left>
					<width>100%</width>
					<label>$INFO[ListItem.Property(nplayers)]</label>
					<height>40</height>
					<aligny>center</aligny>
					<align>left</align>
					<textcolor>$VAR[CodecSameLabelColorAsFrames]</textcolor>
					<font>Bold26</font>
				</control>	 
			</control> -->
		</control>
	</include>

	<include name="Meta_Genre_Bottom">
		<control type="grouplist">
			<description>got no idea why pos_right is needed but its workin</description>
			<visible>!String.IsEmpty(ListItem.Genre)</visible>
			<height>60</height>
			<orientation>horizontal</orientation>
			<itemgap>10</itemgap>
			<usecontrolcoords>true</usecontrolcoords>
			
			<include content="pos_alignx" condition="!Skin.HasSetting(home_spotlight_hideplot) + String.IsEqual(Skin.String(SpotlightMetadataAlign),left)" />
			<include content="pos_alignx" condition="Skin.HasSetting(home_spotlight_hideplot) | String.IsEqual(Skin.String(SpotlightMetadataAlign),center)">
				<param name="align" value="center" />
			</include>
			
			<include content="pos_right" condition="!Skin.HasSetting(home_spotlight_hideplot) + String.IsEqual(Skin.String(SpotlightMetadataAlign),right)">
				<param name="right" value="30" />
			</include>
			<include content="pos_alignx" condition="!Skin.HasSetting(home_spotlight_hideplot) + String.IsEqual(Skin.String(SpotlightMetadataAlign),right)">
				<param name="align" value="right" />
			</include>
			
			<control type="image">
				<height>60</height>
				<width>60</width>
				<bordertexture colordiffuse="$VAR[color_home_accent]" aligny="center" align="center">diffuse/circle.png</bordertexture>
				<texture colordiffuse="$VAR[color_home_background_layer1]" aligny="center" align="center">flags/genre.png</texture>
			</control>
			<control type="label">
				<width>auto</width>
				<height>55</height>
				<aligny>center</aligny>
				<label>$INFO[ListItem.Genre]</label>
				<textcolor>$VAR[color_home_text_main]</textcolor>
				<font>font_SpotlightMetaGenreBottom</font>
			</control>
		</control>
	</include>

	<include name="FramedCodecInfo">
		<param name="font" default="font_SpotlightMetaDataBar" />
		<param name="top" default="5" />
		<definition>
		<control type="group" id="$PARAM[id]">	
			<visible>!String.IsEmpty(Control.GetLabel($PARAM[label_id]))</visible>
			<left>2</left>
			<posy>$PARAM[top]</posy>
			<width>70</width>
			<height>40</height>
			<fadetime>150</fadetime>
			<control type="image">
				<description>use netflix bg</description>
				<bordersize>2</bordersize>
				<width>60</width>
				<height>35</height>
				<bordertexture colordiffuse="$VAR[color_home_text_main]">flags/slimframesoftedge.png</bordertexture>
				<texture colordiffuse="$VAR[color_home_background_layer1]">colors/white40.png</texture>
			</control>
			<control type="label" id="$PARAM[label_id]">
				<width>60</width>
				<height>35</height>
				<aligny>center</aligny>
				<align>center</align>
				<textcolor>white</textcolor>
				<font>$PARAM[font]</font>
				<scroll>false</scroll>
				<label>$PARAM[infolabel]</label>
			</control>
		</control>
		</definition>
	</include>

	<variable name="Simple_Resolution">
		<value condition="ListItem.IsStereoscopic">3D</value>
		<value condition="Integer.IsGreater(ListItem.VideoResolution,1080) | String.IsEqual(ListItem.VideoResolution,4K)">UHD</value>
		<value condition="Integer.IsGreater(ListItem.VideoResolution,700)">HD</value>
		<value condition="!String.IsEmpty(ListItem.VideoResolution)">SD</value>
	</variable>

	<variable name="Simple_AudioChannel">
		<value condition="String.IsEqual(ListItem.AudioChannels,1)">1.0</value>
		<value condition="String.IsEqual(ListItem.AudioChannels,2)">2.0</value>
		<value condition="String.IsEqual(ListItem.AudioChannels,3)">2.1</value>
		<value condition="String.IsEqual(ListItem.AudioChannels,4)">4.0</value>
		<value condition="String.IsEqual(ListItem.AudioChannels,5)">5.0</value>
		<value condition="String.IsEqual(ListItem.AudioChannels,6)">5.1</value>
		<value condition="String.IsEqual(ListItem.AudioChannels,7)">6.1</value>
		<value condition="String.IsEqual(ListItem.AudioChannels,8)">7.1</value>
		<value condition="String.IsEqual(ListItem.AudioChannels,9)">8.1</value>
        <value condition="String.IsEqual(ListItem.AudioChannels,10)">9.1</value>
        <value condition="!String.IsEmpty(ListItem.Channels)">$INFO[ListItem.Channels]</value>
	</variable>

	<variable name="Meta_Top_Details">
		<value condition="String.IsEqual(ListItem.DBTYPE,tvshow) + Integer.IsGreater(ListItem.Property(TotalSeasons),1) + Integer.IsGreater(ListItem.Property(UnWatchedEpisodes),0) + !String.IsEmpty(ListItem.Property(TotalEpisodes))">$INFO[ListItem.Property(TotalSeasons),[B], $LOCALIZE[33054][/B]]$INFO[ListItem.Property(UnWatchedEpisodes), (, $LOCALIZE[16101])]</value>
		<value condition="String.IsEqual(ListItem.DBTYPE,tvshow) + Integer.IsGreater(ListItem.Property(TotalSeasons),1) + !Integer.IsGreater(ListItem.Property(UnWatchedEpisodes),0) + !String.IsEmpty(ListItem.Property(TotalEpisodes))">$INFO[ListItem.Property(TotalSeasons),[B], $LOCALIZE[33054][/B]]</value>																																																																																							
		<value condition="String.IsEqual(ListItem.DBTYPE,tvshow) + Integer.IsEqual(ListItem.Property(TotalSeasons),1) + Integer.IsGreater(ListItem.Property(UnWatchedEpisodes),0) + !String.IsEmpty(ListItem.Property(TotalEpisodes))">$INFO[ListItem.Property(TotalSeasons),[B], $LOCALIZE[36904][/B]]$INFO[ListItem.Property(UnWatchedEpisodes), (, $LOCALIZE[16101])]</value>
		<value condition="String.IsEqual(ListItem.DBTYPE,tvshow) + Integer.IsEqual(ListItem.Property(TotalSeasons),1) + !Integer.IsGreater(ListItem.Property(UnWatchedEpisodes),0) + !String.IsEmpty(ListItem.Property(TotalEpisodes))">$INFO[ListItem.Property(TotalSeasons),[B], $LOCALIZE[36904][/B]]</value>																																																																																							
		<value condition="String.IsEqual(ListItem.DBTYPE,season) + Integer.IsGreater(ListItem.Property(UnWatchedEpisodes),0) + !String.IsEmpty(ListItem.Property(TotalEpisodes))">$INFO[ListItem.Property(TotalEpisodes),[B], $LOCALIZE[20360][/B]]$INFO[ListItem.Property(UnWatchedEpisodes), (, $LOCALIZE[16101])]</value>
		<value condition="String.IsEqual(ListItem.DBTYPE,season) + !Integer.IsGreater(ListItem.Property(UnWatchedEpisodes),0) + !String.IsEmpty(ListItem.Property(TotalEpisodes))">$INFO[ListItem.Property(TotalEpisodes),[B], $LOCALIZE[20360][/B]]</value>
		<value condition="String.IsEqual(ListItem.DBTYPE,tvshow)">$INFO[ListItem.Property(TotalSeasons),[B], $LOCALIZE[33054][/B]]$INFO[ListItem.Property(UnWatchedEpisodes), (, $LOCALIZE[16101])]</value>		
 		<value condition="String.Contains(ListItem.Path,videodb://movies/sets/) | String.IsEqual(ListItem.DBTYPE,set)">$INFO[ListItem.Label]</value>
		<value condition="String.IsEqual(ListItem.DBTYPE,album) + ![String.IsEmpty(ListItem.art(albumartist.clearlogo)) + String.IsEmpty(ListItem.art(artist.clearlogo))]">$INFO[ListItem.AlbumArtist]$INFO[ListItem.Album, • ,]</value>
		<value condition="String.IsEqual(ListItem.DBTYPE,album) + [String.IsEmpty(ListItem.art(albumartist.clearlogo)) + String.IsEmpty(ListItem.art(artist.clearlogo))]">$INFO[ListItem.Album,| [B],[/B]]</value>
		<value condition="String.IsEqual(ListItem.DBTYPE,song) + ![String.IsEmpty(ListItem.art(albumartist.clearlogo)) + String.IsEmpty(ListItem.art(artist.clearlogo))]">$INFO[ListItem.AlbumArtist]$INFO[ListItem.Album, • ,]</value>
		<value condition="!String.IsEmpty(ListItem.Duration)">$VAR[ListItemDuration]</value>
		<value>$INFO[ListItem.Label2]</value>
	</variable>

	<variable name="ClearLogo_FallbackHome">
		<value condition="$EXP[IsSong]">$INFO[ListItem.AlbumArtist,[B],[/B]][CR]$INFO[ListItem.title]</value>
		<value condition="$EXP[IsAlbum]">$INFO[ListItem.AlbumArtist,[B],[/B]]</value>
		<value condition="$EXP[IsEpisode]">$INFO[ListItem.tvshowtitle]</value>		
		<value>$INFO[ListItem.Label]</value>	
	</variable>
	
	<include name="spotlight_trailer_overlay">
		
		<control type="group">
			<top>0</top>
			<visible>Player.HasVideo</visible>
			
			<control type="videowindow">
				<include content="pos_left" condition="Skin.HasSetting(SpotlightLayout_FanartLeftAlignment)" />
				<include content="pos_right" condition="!Skin.HasSetting(SpotlightLayout_FanartLeftAlignment)" />
				<width>1267</width>
				<height>731</height>
			</control>
			
			<control type="image">
				<description>verstärker</description>
				<visible>false</visible>
				<texture colordiffuse="$VAR[color_home_background_layer1]" diffuse="diffuse/spotlighttoprightinverted.png">colors/white80.png</texture>
				<right>0</right>
				<width>1267</width>
				<height>731</height>
			</control>
			
			<control type="image">
				<description>variable in diffuse tag not workin</description>
				<visible>!Skin.HasSetting(SpotlightLayout_FanartLeftAlignment)</visible>
				<bordertexture colordiffuse="$VAR[color_home_background_layer1]" diffuse="diffuse/spotlighttraileroverlayleft.png">colors/white.png</bordertexture>
				<texture colordiffuse="$VAR[color_home_background_layer3]" diffuse="diffuse/spotlighttraileroverlayleft.png">$VAR[spotlight_trailer_layer3_overlayImage]</texture>
				<right>0</right>
			</control>
			<control type="image">
				<description>variable in diffuse tag not workin</description>
				<visible>Skin.HasSetting(SpotlightLayout_FanartLeftAlignment)</visible>
				<bordertexture colordiffuse="$VAR[color_home_background_layer1]" diffuse="diffuse/spotlighttraileroverlayright.png">colors/white.png</bordertexture>
				<texture colordiffuse="$VAR[color_home_background_layer3]" diffuse="diffuse/spotlighttraileroverlayright.png">$VAR[spotlight_trailer_layer3_overlayImage]</texture>
				<left>0</left>
			</control>
		</control>
	</include>
	
	<variable name="spotlight_trailer_layer3_overlayImage">
		<value condition="!String.IsEmpty(Skin.String(texture_home_background_layer3))">$VAR[Global_Layer3_OverlayImage]</value>
		<value>colors/none.png</value>	
	</variable>
	
	<include name="busyspinner_spotlight_autoplaytrailer">
		<control type="image">
			<visible>string.isequal(window(home).property(busyspinner),spotlighttrailerhome) | !string.isempty(window(home).property(busyspinner_2ndload))</visible>
			<centerleft>$PARAM[centerleft]</centerleft>
			<centertop>$PARAM[centertop]</centertop>
			<width>130</width>
			<height>130</height>
			<texture colordiffuse="$VAR[color_global_dialog_accent]">special://skin/extras/busy/netflixorigin.apng</texture>
			<aspectratio align="center" aligny="center">keep</aspectratio>
		</control>
	</include>
</includes>
